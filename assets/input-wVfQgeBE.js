import{a2 as i,a3 as d,a4 as _,C as m,D as h,h as v,a5 as k}from"./iframe-CgneSgH9.js";function x(e,l,n=l){var s=new WeakSet;i(e,"input",async r=>{e.type==="checkbox"&&d();var a=r?e.defaultValue:e.value;if(a=o(e)?t(a):a,n(a),v!==null&&s.add(v),await _(),a!==(a=l())){var u=e.selectionStart,c=e.selectionEnd,b=e.value.length;if(e.value=a??"",c!==null){var f=e.value.length;u===c&&c===b&&f>b?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=u,e.selectionEnd=Math.min(c,f))}}}),m(l)==null&&e.value&&(n(o(e)?t(e.value):e.value),v!==null&&s.add(v)),h(()=>{e.type==="checkbox"&&d();var r=l();if(e===document.activeElement){var a=k??v;if(s.has(a))return}o(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function o(e){var l=e.type;return l==="number"||l==="range"}function t(e){return e===""?null:+e}export{x as b};
